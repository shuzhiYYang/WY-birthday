<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Happy Marriage</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      height: 100vh;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #93c5fd, #f9a8d4);
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      transition: background 1s ease-in-out;
    }

    /* Password Card */
    .card {
      background: white;
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
      text-align: center;
      width: 320px;
      animation: fadeIn 1s forwards;
    }

    h2 {
      color: #111827;
      font-size: 1.1rem;
      margin-bottom: 1rem;
    }

    input {
      padding: 10px;
      width: 80%;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 8px;
      margin-top: 10px;
      outline: none;
    }

    button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background-color: #2563eb;
      color: white;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background-color: #1e40af;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    /* Hidden Happy Marriage part */
    #happy-marriage {
      display: none;
      width: 100%;
      height: 100%;
      color: #fadadd;
      background: url('background.jpg') no-repeat center center fixed;
      background-size: cover;
      overflow-y: auto;
      padding: 2rem;
      box-sizing: border-box;
    }

    h1 {
      font-family: 'Great Vibes', cursive;
      color: #ff8da1;
      font-size: 3.2rem;
      margin-bottom: 2rem;
      text-align: center;
      line-height: 1.4;
      text-shadow: 1px 1px 3px black;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(11, 80px);
      grid-template-rows: repeat(9, 80px);
      gap: 4px;
      width: max-content;
      margin: 0 auto;
    }

   .grid div {
      width: 80px;
      height: 80px;
    }

    .photo {
      background-size: cover;
      background-position: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      border-radius: 16px;
      width: 120px;
      height: 120px;
    }

    .message p {
      font-family: "å¾®è½¯é›…é»‘", "Microsoft YaHei", sans-serif;
      font-size: 1.2rem;
      text-align: left;
      line-height: 1.6;
      margin-top: 2rem;
    }

    /* Countdown and Fireworks */
    #countdown-screen, #celebration-screen {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    #countdown-screen {
      background: black;
      color: white;
      font-size: 6rem;
      font-weight: bold;
    }

    #countdown-text {
      animation: scaleUp 1s ease-in-out infinite;
    }

    @keyframes scaleUp {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(1.5); opacity: 0; }
    }

    #celebration-screen {
      background: black;
      flex-direction: column;
    }

    .celebration-text {
      position: absolute;
      top: 5%;
      font-size: 4rem;
      color: #ed1c24;
      text-shadow: 2px 2px 5px black;
      font-family: 'Great Vibes', cursive;
    }

    #fireworks-canvas {
      position: absolute;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
    }

    #play-music {
      margin-bottom: 1rem;
      font-size: 1rem;
    }
  </style>
</head>
<body>

  <!-- ğŸ”’ Password Page -->
  <div id="password-page" class="card">
    <h2>This is for my one and only, my dearest and cutest bae, so please type your name to unlock â™¥</h2>
    <input type="text" id="password" placeholder="Your name">
    <br>
    <button onclick="checkPassword()">Submit</button>
  </div>

  <!-- ğŸ‰ Hidden Happy Marriage Page -->
  <div id="happy-marriage">
    <button id="play-music">Click for Background Music ğŸµ</button>

    <div id="countdown-screen">
      <div id="countdown-text">3</div>
    </div>

    <div id="celebration-screen">
      <canvas id="fireworks-canvas"></canvas>
      <h1 class="celebration-text">Happy Birthday!</h1>
      <video id="blessing-video" src="blessing.mp4" preload="auto" style="display:none;"></video>
    </div>

    <div id="main-content" style="display:none;">
      <h1>Wishing my cute cute Chin Chin bae a happy 27th birthday!</h1>

      <div class="grid" id="heart-grid"></div>

      <div class="message">
        <p>æˆ‘æœ€çˆ±åªçˆ±çš„é’±é’±å®ï¼š<br><br><br>

è§ä¿¡å¦‚æ™¤ï¼å’Œé’±é’±å®åˆ†å¼€æ‰ä¸€æœˆæœ‰ä½™ï¼Œå´æ„Ÿè§‰å·²å¦‚éš”ä¸‰ç§‹å•¦ï¼Œä½†æ—¥å­å¹¶ä¸éš¾ç†¬ï¼Œå› ä¸ºæ¯å¤©éƒ½æœ‰å®çš„é™ªä¼´ï¼Œæœ‰å®ç»™æˆ‘åŠ æ²¹æ‰“æ°”ï¼Œä¸€æƒ³åˆ°å®ä¹Ÿåœ¨ä¸ºäº†æˆ‘ä»¬èƒ½æ—©æ—¥ç›¸èšè€ŒåŠªåŠ›ï¼Œæ¯ä¸€å¤©éƒ½æ„Ÿè§‰å……æ»¡äº†åŠ›é‡ã€‚<br><br>

ä¸çŸ¥é“å®å–œä¸å–œæ¬¢æˆ‘ç»™å®å‡†å¤‡çš„å°æƒŠå–œï¼Ÿå˜¿å˜¿ï¼Œå¦‚æœå–œæ¬¢çš„è¯ä¸€å®šè¦å‘Šè¯‰æˆ‘ï¼Œå¥½å¥½å¤¸å¤¸æˆ‘å“¦ã€‚ç¿»çœ‹ç…§ç‰‡æ—¶ï¼Œè„‘æµ·ä¸­å†ä¸€æ¬¡æ¶Œç°å‡ºè¿‡å»ä¸¤å¹´çš„ç¾å¥½å›å¿†ï¼Œçœ‹åˆ°æˆ‘å’Œå®ç”œç”œäº²å»çš„ç…§ç‰‡ï¼Œçœ‹åˆ°æˆ‘ä»¬ä¸€èµ·çœ‹è¿‡æ— æ¯”ç¾ä¸½çš„é£æ™¯ï¼Œå†ä¸€æ¬¡æ„Ÿå¹è‡ªå·±åº¦è¿‡äº†æˆ‘äººç”Ÿä¸­æ— æ¯”å¹¸ç¦çš„ä¸¤å¹´æ—¶å…‰ï¼Œå’Œå®ç•™ä¸‹çš„æ¯ä¸€æ®µå›å¿†ï¼Œåœ¨ä»»ä½•éš¾è¿‡çš„æ—¶å€™å›æƒ³èµ·æ¥éƒ½æ˜¯æ²»æ„ˆçš„è‰¯è¯ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬bucket listsä¸­å·²ç»å¾ˆå¤šget tickedå•¦ï¼Œä½†æ˜¯è¿˜æœ‰æºæºä¸æ–­çš„ã€æ— ç©·æ— å°½çš„æœ‰è¶£çš„äº‹æƒ…æƒ³å’Œå®åœ¨äººç”Ÿä¸­ä¸€èµ·æ¢ç´¢ï¼ŒæœŸå¾…å’Œå®æœªæ¥çš„adventureï¼<br><br>

27å²æ­£æ˜¯äººç”Ÿæœ€ç¾å¥½çš„å¹´çºªï¼Œå°‘äº†å¾ˆå¤šå¹¼æ—¶çš„æ‡µæ‡‚æ— çŸ¥ï¼Œåœ¨è¿™æ ·çš„å¹´çºªæˆ‘ä»¬æ›´åŠ æ‡‚å¾—çæƒœï¼ŒåŠªåŠ›ç”Ÿæ´»ï¼Œç›¸ä¿¡åœ¨ä¸ä¹…çš„å°†æ¥æˆ‘çš„ä¼˜ç§€å®ä¼šæ”¶è·æ›´å¤šï¼Œåœ¨äººç”Ÿçš„æ–¹æ–¹é¢é¢ä¸­éƒ½æ‹¥æœ‰å……è¶³çš„åº•æ°”ã€‚éå¸¸è£å¹¸åœ°é™ªä¼´äº†å®ç¬¬ä¸‰ä¸ªç”Ÿæ—¥ï¼Œä»¥åè¿˜è¦ç»™å®åº†ç¥å¤šåˆ°æ•°ä¸å®Œçš„ç”Ÿæ—¥ï¼Œå¸Œæœ›å®å¹¸ç¦çš„æ—…é€”ä¸­éƒ½æœ‰æˆ‘çš„èº«å½±ã€‚<br><br>

å†ä¸€æ¬¡ç¥æˆ‘æœ€å¯çˆ±çš„é’±é’±å®ç”Ÿæ—¥å¿«ä¹ï¼Œæ°¸è¿œå¿«ä¹ï¼Œå²å²å¹³å®‰ï¼Œå¹´å¹´åº·å¥ã€‚æ°¸è¿œæœŸå¾…æˆ‘ä»¬ä¸€èµ·åˆ›é€ çš„ä¸‹ä¸€æ®µç¾å¥½å›å¿†ã€‚<br><br><br>

çˆ±ä½ çš„æ¨æ¨å®^3^<br><br>
2025.10.31</p>
      </div>
    </div>

    <audio id="background-music" src="music.mp3" preload="auto" loop></audio>
  </div>

  <script>
    const validPasswords = ["Weng Yik Chin", "é’±è© æ˜±"];

    function checkPassword() {
      const input = document.getElementById("password").value.trim();
      const passwordPage = document.getElementById("password-page");
      const happyMarriage = document.getElementById("happy-marriage");

      if (validPasswords.includes(input)) {
        passwordPage.style.display = "none";
        happyMarriage.style.display = "block";
        document.body.style.background = "black";
        startCountdown();
      } else {
        alert("Incorrect name. Please try again â™¥");
      }
    }

  // å¿ƒå½¢ç…§ç‰‡æ‹¼æ¥
const heartShape = [
"01110001110",
"11111011111",
"11111111111",
"11111111111",
"01111111110",
"00111111100",
"00011111000",
"00001110000",
"00000100000",
];
  const container = document.getElementById('heart-grid');
  let photoIndex = 1;
  const maxPhotos = 63;
  for (let row = 0; row < heartShape.length; row++) {
    for (let col = 0; col < heartShape[row].length; col++) {
      const cell = document.createElement('div');
      if (heartShape[row][col] === '1' && photoIndex <= maxPhotos) {
        cell.classList.add('photo');
        cell.style.backgroundImage = `url('photo${photoIndex}.jpg')`;
        photoIndex++;
      }
      container.appendChild(cell);
    }
  }

    // === Marriage Animation Logic ===
    const countdownScreen = document.getElementById('countdown-screen');
    const countdownText = document.getElementById('countdown-text');
    const celebrationScreen = document.getElementById('celebration-screen');
    const blessingVideo = document.getElementById('blessing-video');
    const mainContent = document.getElementById('main-content');
    const playMusicBtn = document.getElementById('play-music');
    const backgroundMusic = document.getElementById('background-music');

    function startCountdown() {
      countdownScreen.style.display = 'flex';
      let count = 3;
      countdownText.textContent = count;

      const interval = setInterval(() => {
        count--;
        if (count > 0) {
          countdownText.textContent = count;
        } else {
          clearInterval(interval);
          countdownScreen.style.display = 'none';
          celebrationScreen.style.display = 'flex';
          playBlessing();
          launchFireworks();
        }
      }, 1000);
    }

    function playBlessing() {
      blessingVideo.style.display = 'block';
      blessingVideo.play().catch(() => {
        alert('è¯·ç‚¹å‡»é¡µé¢ä»¥æ’­æ”¾ç¥ç¦è§†é¢‘');
      });
    }

    blessingVideo.addEventListener('ended', () => {
      celebrationScreen.style.display = 'none';
      mainContent.style.display = 'block';
    });

    playMusicBtn.addEventListener('click', () => {
      if (!backgroundMusic.paused) {
        backgroundMusic.pause();
        playMusicBtn.textContent = 'Click for Background Music ğŸµ';
      } else {
        blessingVideo.pause();
        backgroundMusic.play();
        playMusicBtn.textContent = 'Click to Stop Music â¸ï¸';
      }
    });

    function launchFireworks() {
      const canvas = document.getElementById('fireworks-canvas');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      const particles = [];

      function randomColor() {
        return `hsl(${Math.random() * 360}, 100%, 70%)`;
      }

      for (let i = 0; i < 180; i++) {
        particles.push({
          x: canvas.width / 2,
          y: canvas.height / 2 - 240,
          angle: Math.random() * 2 * Math.PI,
          speed: Math.random() * 3 + 2,
          radius: Math.random() * 3 + 2,
          color: randomColor(),
          alpha: 1
        });
      }

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => {
          const dx = Math.cos(p.angle) * p.speed;
          const dy = Math.sin(p.angle) * p.speed;
          p.x += dx;
          p.y += dy;
          p.alpha -= 0.015;
          if (p.alpha < 0) p.alpha = 0;
          const hueMatch = p.color.match(/\d+\.?\d*/);
          const hue = hueMatch ? hueMatch[0] : 0;
          ctx.fillStyle = `hsla(${hue}, 100%, 70%, ${p.alpha})`;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI);
          ctx.fill();
        });
        if (particles.some(p => p.alpha > 0)) requestAnimationFrame(animate);
      }
      animate();
    }
  </script>

</body>
</html>
